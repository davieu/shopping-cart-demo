(function(t){function r(r){for(var o,c,s=r[0],u=r[1],i=r[2],p=0,l=[];p<s.length;p++)c=s[p],a[c]&&l.push(a[c][0]),a[c]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);d&&d(r);while(l.length)l.shift()();return n.push.apply(n,i||[]),e()}function e(){for(var t,r=0;r<n.length;r++){for(var e=n[r],o=!0,s=1;s<e.length;s++){var u=e[s];0!==a[u]&&(o=!1)}o&&(n.splice(r--,1),t=c(c.s=e[0]))}return t}var o={},a={app:0},n=[];function c(r){if(o[r])return o[r].exports;var e=o[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,c),e.l=!0,e.exports}c.m=t,c.c=o,c.d=function(t,r,e){c.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,r){if(1&r&&(t=c(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)c.d(e,o,function(r){return t[r]}.bind(null,o));return e},c.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(r,"a",r),r},c.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=r,s=s.slice();for(var i=0;i<s.length;i++)r(s[i]);var d=u;n.push([0,"chunk-vendors"]),e()})({0:function(t,r,e){t.exports=e("56d7")},"56d7":function(t,r,e){"use strict";e.r(r);e("cadf"),e("551c"),e("f751"),e("097d");var o=e("2b0e"),a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{attrs:{id:"app"}},[e("div",{attrs:{id:"nav"}},[e("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" |\n    "),e("router-link",{attrs:{to:"/admin-page"}},[t._v("Admin Page")])],1),e("b-container",[e("router-view")],1)],1)},n=[],c=(e("5c0b"),e("2877")),s={},u=Object(c["a"])(s,a,n,!1,null,null,null),i=u.exports,d=e("8c4f"),p=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"home"},[e("Products")],1)},l=[],m=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("b-container",[e("div",{staticClass:"modal-div"},[e("b-row",[e("b-col",[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-a.collapse-b",modifiers:{"collapse-a":!0,"collapse-b":!0}}],attrs:{variant:"primary"}},[t._v("Special Offers!")])],1),e("b-col",[e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticClass:"open-cart-btn",attrs:{variant:"primary"}},[t._v("Shopping Cart: "+t._s(t.getCartItemsLength))])],1)],1),e("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-a"}},[e("b-card",{staticClass:"special-offers-cards"},[t._v("Buy one, get one free on apples!")])],1),e("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-b"}},[e("b-card",{staticClass:"special-offers-cards"},[t._v("3 for the price of 2 on oranges!")])],1),e("b-modal",{attrs:{id:"modal-1",size:"sm",title:"Cart"}},[t.getCartItemsLength>0?e("div",t._l(t.getShoppingCart,function(r,o){return e("div",{key:o},[t._v("\n          "+t._s(r.product.productName)+": "),e("span",{staticClass:"product-count"},[t._v(" "+t._s(r.product.count))]),e("div",{staticClass:"cart-btns"},[e("button",{staticClass:"in-cart-del-btn",attrs:{mb:"1"},on:{click:function(e){return t.decrementCart(r.product.productName,r.product.price)}}},[e("b",[t._v("-")])]),e("button",{staticClass:"in-cart-add-btn",on:{click:function(e){return t.incrementCart(r.product.productName,r.product.price)}}},[e("b",[t._v("+")])])])])}),0):t._e(),t.getCartItemsLength<1?e("div",[e("p",[t._v("Take a look around the Shop!")])]):t._e(),e("hr"),e("p",[t._v("Sub Total: "),e("span",{staticClass:"product-totals"},[t._v(t._s(t.getSubTotal))])]),e("p",[t._v("Tax: "),e("span",{staticClass:"product-totals"},[t._v(t._s(t.getTax))])]),e("p",[e("b",[t._v("Order Total:")]),e("span",{staticClass:"product-totals"},[e("b",[t._v(t._s(t.getOrderTotal))])])]),e("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[e("p",{staticClass:"float-left"}),e("b-button",{staticClass:"float-right",attrs:{variant:"primary"},on:{checkout:function(r){t.show=!1}}},[t._v("\n        Checkout\n      ")])],1)])],1),e("b-row",t._l(t.allProducts,function(r){return e("b-col",{key:r._id,attrs:{md:"4",xs:"12"}},[e("b-card-group",{staticClass:"mb-3",attrs:{deck:""}},[e("b-card",{staticClass:"text-center cards",attrs:{header:""+r.productName}},[e("p",{staticClass:"price"},[t._v("Price: "+t._s(t.formatPrices(r.price)))]),e("hr"),e("b-card-text",[t._v(t._s(r.description))]),e("b-button",{staticClass:"add-cart-btn",attrs:{variant:"success"},on:{click:function(e){return t.incrementCart(r.productName,r.price,r._id)}}},[t._v("Add to Cart!")])],1)],1)],1)}),1)],1)],1)},f=[],v=(e("6b54"),e("db72")),b=e("2f62"),g={name:"Products",data:function(){return{cart:null,cartArrays:[]}},methods:Object(v["a"])({},Object(b["b"])(["fetchProducts","addProductToCart","removeProductFromCart"]),{formatPrices:function(t){try{var r,e=t.toString(),o=e.indexOf(".");return r=-1==o?e+".00":"."==e[e.length-2]?e+"0":e,"$ "+r}catch(a){}},incrementCart:function(t,r,e){var o={productName:t,price:r,id:e};this.addProductToCart(o)},decrementCart:function(t,r){var e={productName:t,price:r};this.removeProductFromCart(e)}}),computed:Object(v["a"])({},Object(b["c"])(["allProducts","getSubTotal","getTax","getOrderTotal","getShoppingCart","getCartItemsLength"]),{},Object(b["d"])(["products","cartArray","typeOfProductCountInCart"])),created:function(){this.fetchProducts()}},C=g,h=(e("8018"),Object(c["a"])(C,m,f,!1,null,"7ad3b21a",null)),_=h.exports,P={name:"home",components:{Products:_}},y=P,O=Object(c["a"])(y,p,l,!1,null,null,null),S=O.exports,N=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"adminPage"},[e("FormSubmit")],1)},x=[],w=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("h1",[t._v("Activate Promotions")]),e("div",{staticClass:"promotions-div"},[t._v("\n    "+t._s(t.promotions[0].promotionFunc())+"\n    "),e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1",modifiers:{"collapse-1":!0}}],attrs:{variant:"primary"}},[t._v("Promotions List:")]),e("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1"}},[e("b-card",[e("b-form-group",{attrs:{id:"promotions-group"}},[e("p",[t._v("Select the promotions you want to use.")]),t._l(t.promotions,function(r,o){return e("b-form-checkbox-group",{key:o,attrs:{id:"promotions-checkboxes"}},[e("b-form-checkbox",{attrs:{value:"me"}},[e("b",[t._v(t._s(r.productName))]),t._v(": "+t._s(r.promotion))])],1)})],2)],1)],1)],1),e("br"),e("hr"),e("h1",[t._v("Add Product")]),e("div",{staticClass:"products-list"},[e("form",{on:{submit:t.onSubmit}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.productName,expression:"formData.productName"}],staticClass:"input-field",attrs:{type:"text",required:"",placeholder:"Product name..."},domProps:{value:t.formData.productName},on:{input:function(r){r.target.composing||t.$set(t.formData,"productName",r.target.value)}}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.price,expression:"formData.price"}],staticClass:"input-field",attrs:{type:"number",step:"0.01",required:"",placeholder:"Price..."},domProps:{value:t.formData.price},on:{input:function(r){r.target.composing||t.$set(t.formData,"price",r.target.value)}}}),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.description,expression:"formData.description"}],staticClass:"input-field",attrs:{type:"text",required:"",placeholder:"Description..."},domProps:{value:t.formData.description},on:{input:function(r){r.target.composing||t.$set(t.formData,"description",r.target.value)}}}),e("br"),e("b-button",{attrs:{type:"submit",value:"Submit",variant:"success"}},[t._v("Submit")]),e("div",{staticClass:"error-handler-div",class:{success:t.getRequestStatus,error:!t.getRequestStatus}},[t.getRequestStatus?e("span",{staticClass:"err-symbol"},[e("b",[t._v("âœ”")])]):t._e(),!1===t.getRequestStatus?e("span",{staticClass:"err-symbol"},[e("b",[t._v(" X ")])]):t._e(),e("span",[t._v(" "+t._s(t.successOrErrorHandler))])])],1)]),e("br"),e("hr"),e("h1",[t._v("Delete Product")]),e("div",{staticClass:"products-list"},[e("form",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.productName,expression:"formData.productName"}],staticClass:"input-field",attrs:{type:"text",required:"",placeholder:"Product name..."},domProps:{value:t.formData.productName},on:{input:function(r){r.target.composing||t.$set(t.formData,"productName",r.target.value)}}}),e("b-button",{attrs:{type:"submit",value:"Submit",variant:"success"}},[t._v("Submit")])],1)])])},j=[],T={name:"FormSubmit",data:function(){return{formData:{productName:"",price:"",description:""}}},methods:Object(v["a"])({},Object(b["b"])(["addProduct"]),{onSubmit:function(t){t.preventDefault();var r=this.formData;this.addProduct(r)}}),computed:Object(v["a"])({},Object(b["c"])(["getErrorMsg","getRequestStatus"]),{},Object(b["d"])(["promotions"]),{successOrErrorHandler:function(){return this.getRequestStatus?"Product Added!":0==this.getRequestStatus?this.getErrorMsg:""}}),mounted:function(){}},k=T,D=(e("d510"),Object(c["a"])(k,w,j,!1,null,"68082834",null)),I=D.exports,$={name:"adminPage",components:{FormSubmit:I}},q=$,A=Object(c["a"])(q,N,x,!1,null,null,null),E=A.exports;o["default"].use(d["a"]);var F=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:S},{path:"/admin-page",name:"admin-page",component:E}]}),M={initializeState:!0,products:[],errorMsg:"",requestStatus:null,cartArray:[],typeOfProductCountInCart:[],totalCost:0,promotions:[{productName:"Apple",promotionFunc:function(t){console.log("poop",this.productName)},promotion:"Buy one, get one free",isActivated:!1},{productName:"Orange",promotionFunc:function(t){console.log("poop2",this.productName)},promotion:"3 for the price of 2",isActivated:!1}]},R=(e("96cf"),e("3b8d")),L=e("bc3a"),z=e.n(L),H={fetchProducts:function(){var t=Object(R["a"])(regeneratorRuntime.mark(function t(r){var e,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=r.commit,t.next=3,z.a.get("api/products");case 3:o=t.sent,e("setProducts",o.data);case 5:case"end":return t.stop()}},t)}));function r(r){return t.apply(this,arguments)}return r}(),addProduct:function(){var t=Object(R["a"])(regeneratorRuntime.mark(function t(r,e){var o,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return o=r.commit,t.prev=1,t.next=4,z.a.post("api/product",e);case 4:a=t.sent,o("newProduct",a.data),t.next=13;break;case 8:t.prev=8,t.t0=t["catch"](1),n={errMsg:"Product name already in use.",err:t.t0},o("sendError",n.errMsg),console.error(n);case 13:case"end":return t.stop()}},t,null,[[1,8]])}));function r(r,e){return t.apply(this,arguments)}return r}(),addProductToCart:function(t,r){var e=t.commit;e("pushProductToCart",r)},removeProductFromCart:function(t,r){var e=t.commit;e("removeFromCart",r)}},B=(e("20d6"),e("ac6a"),{setProducts:function(t,r){if(r.forEach(function(t){var r=t.productName;t.productName=r[0].toUpperCase()+r.substring(1,r.length)}),t.initializeState){for(var e=0;e<r.length;e++)t.typeOfProductCountInCart.push({product:{productName:r[e].productName,count:0,inCart:!1,price:r[e].price}});console.log(t.typeOfProductCountInCart)}t.initializeState=!1,t.products=r},newProduct:function(t,r){setTimeout(function(){return t.requestStatus=null},1500);var e=r.productName[0].toUpperCase()+r.productName.substring(1,r.productName.length);t.typeOfProductCountInCart.push({product:{productName:e,count:0,inCart:!1,price:r.price}}),t.requestStatus=!0,t.errorMsg="",t.products.push(r)},sendError:function(t,r){t.requestStatus=!1,t.errorMsg=r,setTimeout(function(){return t.requestStatus=null},2e3)},pushProductToCart:function(t,r){t.cartArray.push(r.productName);var e=t.typeOfProductCountInCart.findIndex(function(t){return t.product.productName==r.productName});t.typeOfProductCountInCart[e].product.count+=1,t.typeOfProductCountInCart[e].product.inCart=!0,t.totalCost+=r.price,console.log(t.typeOfProductCountInCart),console.log(t.cartArray)},removeFromCart:function(t,r){var e=t.cartArray.indexOf(r.productName);t.cartArray.splice(e,1);var o=t.typeOfProductCountInCart.findIndex(function(t){return t.product.productName==r.productName});t.typeOfProductCountInCart[o].product.count-=1,0==t.typeOfProductCountInCart[o].product.count&&(t.typeOfProductCountInCart[o].product.inCart=!1),t.totalCost-=r.price}}),J={allProducts:function(t){return t.products},getErrorMsg:function(t){return t.errorMsg},getRequestStatus:function(t){return t.requestStatus},getTotalCheckout:function(t){t.cartArray.forEach()},getShoppingCart:function(t){return t.typeOfProductCountInCart.filter(function(t){return 1==t.product.inCart})},getCartItemsLength:function(t){return t.cartArray.length},getSubTotal:function(t){var r="$".concat(t.totalCost.toFixed(2));return"$-0.00"==r?"$0.00":r},getTax:function(t){var r=.075*t.totalCost,e="$".concat(r.toFixed(2));return"$-0.00"==e?"$0.00":e},getOrderTotal:function(t){var r=.075*t.totalCost,e=r+t.totalCost,o="$".concat(e.toFixed(2));return"$-0.00"==o?"$0.00":o}};o["default"].use(b["a"]);var U=new b["a"].Store({state:M,mutations:B,actions:H,getters:J}),X=e("5f5b");e("f9e3"),e("2dd8");o["default"].use(X["a"]),o["default"].config.productionTip=!1,new o["default"]({router:F,store:U,render:function(t){return t(i)}}).$mount("#app")},"5c0b":function(t,r,e){"use strict";var o=e("5e27"),a=e.n(o);a.a},"5e27":function(t,r,e){},8018:function(t,r,e){"use strict";var o=e("8dcb"),a=e.n(o);a.a},"8dcb":function(t,r,e){},b091:function(t,r,e){},d510:function(t,r,e){"use strict";var o=e("b091"),a=e.n(o);a.a}});
//# sourceMappingURL=app.72ea878b.js.map